{% extends 'base.html.twig' %}

{% block title %}{{ product.name }}{% endblock %}

{% block body %}
    <div class="container" style="margin-top: 100px">
    <p><a href="{{ path('products') }}" class="btn" id="my-button"><i class="fa fa-arrow-left"></i> Retour à la boutique</a></p>
    <h1 class="mb-5">{{ product.name }}</h1>

    {#Fiche informative du produit#}
    <div class="row">
        <div class="col-md-5">
            <img src="{{ asset('uploads/' ~ product.illustration) }}" alt="{{ product.name }}" class="img-fluid">
        </div>
        <div class="col-md-4">
            <h3>{{ product.name }}</h3>
            {# Évaluation : {{ product.rating }}#}
            <p>{{ product.subtitle }}</p>
            <p class="mt-5">{{ product.description | striptags }}</p>
            <i class="fa-solid fa-star mt-5"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-regular fa-star"></i>
        </div>

        <div class="col-md-3" style="border-left: 1px solid #dddddd;">
            <div class="col-md-12 w3-border w3-padding">
                Ce produit est uniquement livré en France métropolitaine et partout en Europe.
            </div>

            <h4 class="text-muted mt-5">
                <b class="total">Total: {{ (product.price / 100)|number_format(2, ',', ',') }} € </b>
            </h4>
                

            <div class="w3-border-bottom"></div>
            <div class="row w3-center">
                    <div class="col-md-3">
                    </div>
                    <div class="col-md-6">
                        <a href="{{ path('add_to_cart', {'id': product.id}) }}" class="btn mt-5 mb-5 ml-2" id="my-button">
                            <i class="fas fa-cart-plus"></i> Ajouter au panier
                        </a>
                    </div>
                    <div class="col-md-3">
                    </div>
            </div>
            <div class="row">
                <div class="col-md-1">
                    <i class="fa-solid fa-shield"></i>
                </div>
                <div class="col-md-11">
                    <p>Protection Acheteur (90  jours)</p>
                </div>
            </div>
            
            <p class="mt-2 repay">Vous serez remboursé si l'article arrive en retard ou ne correspond pas à sa description.</p>
        </div>
        <ul>
            {% for product in product %}
                <li>{{ product.name }}</li>
            {% endfor %}
        </ul>
    </div>

    
    <div class="opinion">
    <div class="w3-border"></div>
        <div class="row">
            <div class="col-md-6">
                <h3>Kelie</h3>
                <i class="fa-solid fa-star mb-3"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-regular fa-star"></i><i class="fa-regular fa-star"></i>
                <p>J'ai beaucoup aimé lire ce livre. La livraison à été rapide, je vous le conseille vivement !</p>
                <div class="w3-border"></div>
                <h3>Moussa</h3>
                <i class="fa-solid fa-star mb-3"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-regular fa-star"></i><i class="fa-regular fa-star"></i>
                <p>Lire les mots de l'auteur m'ont fait un grand bien. La fin est frappante et je ne m'y attendais pas. Je recommande !!</p>
            
            
            </div>
            <div class="col-md-6">
                <h3>Auracan</h3>
                <i class="fa-solid fa-star mb-3"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i>
                <p>Nul doute que ce fort beau biopic saura séduire les amateurs d'histoire comme les amoureux de littérature. Ou plus largement, les lecteurs curieux !</p>
            
            </div>
        </div>
    </div>

{% endblock %}

{% block javascripts %}
    <script>
        const image = document.querySelector('#myimage');

        let zoom = 1;
        let zoomStep = 0.1;
        let zoomLimit = 3;

        image.addEventListener('mouseover', () => {
              zoom += zoomStep;
              if (zoom > zoomLimit) {
                zoom = zoomLimit;
              }
              image.style.transform = `scale(${zoom})`;
        });

        image.addEventListener('mouseout', () => {
              zoom -= zoomStep;
              if (zoom < 1) {
                zoom = 1;
              }
              image.style.transform = `scale(${zoom})`;
        });
    </script>
{% endblock %}